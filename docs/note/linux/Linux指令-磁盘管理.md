# Linux指令-磁盘管理

## 1. 磁盘管理命令

### 1.1 df（disk free）

命令描述：用于查看文件系统的磁盘空间使用情况。

命令语法：`df [参数] [文件或目录名称]`

参数说明：

| 参数         | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| -a（ --all） | 列出所有的文件系统，包括系统特有的/proc等文件系统            |
| -k           | 以KBytes为单位，返回各文件系统的磁盘空间使用情况             |
| -m           | 以MBytes为单位，返回各文件系统的磁盘空间使用情况             |
| -h           | 以GBytes、MBytes、KBytes为单位，返回各文件系统的磁盘空间使用情况 |
| -H           | 以M=1000K替代M=1024K的方式显示各文件系统的磁盘空间使用情况   |
| -T           | 显示文件系统类型                                             |
| -i           | 不显示用硬盘容量，而以inode的数量来显示                      |

```bash
1.显示磁盘使用情况
df

2.以inode模式来显示磁盘使用情况
df -i

3.显示所有的文件系统名称、类型及磁盘使用情况
df -aT

4.以GBytes、MBytes、KBytes为单位，显示磁盘使用情况
df -h
```

### 1.2 du（disk usage）

命令描述：用于显示目录或文件的大小。

命令语法：`du [参数] [文件或目录名称]`

参数说明：

| 参数 | 说明                      |
| ---- | ------------------------- |
| -a   | 列出所有的文件与目录容量  |
| -h   | 以G、M、K为单位，返回容量 |
| -s   | 列出总量                  |
| -S   | 列出不包括子目录下的总量  |
| -k   | 以KBytes为单位，返回容量  |
| -m   | 以MBytes为单位，返回容量  |

```bash
1.列出当前目录下的所有文件夹的容量（注：包括隐藏文件夹）
du

2.列出当前目录下的所有文件夹和文件的容量
du -a

3.列出当前目录下的所有文件夹和文件的容量，并以G、M、K为单位，显示容量
du -aH

4.列出根目录下每个目录所占用的容量，并以MBytes为单位，显示容量
du -sm /*
```

### 1.3 fdisk

命令描述：用于磁盘分区。

命令语法：`fdisk [-l] 装置名称`

参数说明：

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -l   | 输出指定装置名称的所有分区内容。若只使用`fdisk -l`，则系统将会把能够搜索到的装置的所有分区均列出 |

```bash
1.列出系统中所有装置的分区信息
fdisk -l

2.列出系统中根目录所在的磁盘，并查阅该磁盘内的相关信息
a.找出根目录所在磁盘名：df /
b.对磁盘/dev/vda进行分区操作：fdisk /dev/vda
c.执行命令m，获取帮助
d.执行命令p，查看磁盘状态
e.执行命令q，不存储任何操作并离开
```

> **注意：**对磁盘进行分区操作时，磁盘名不应包含数字

